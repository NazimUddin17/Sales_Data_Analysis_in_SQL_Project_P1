# Sales Data Analysis in SQL Project

## Project Overview

**Project Title**: Sales Data Analysis  
**Level**: Beginner  
**Database**: 'product_db'

This project is designed to demonstrate SQL skills and techniques typically used by data analysts to explore, clean, and analyze sales data. The project involves setting up a sales database 'product_db', performing exploratory data analysis (EDA), and answering specific business questions through SQL queries. This project is ideal for those who are starting their journey in data analysis and want to build a solid foundation in SQL.

## Objectives

1. **Set up a sales database**: Create and populate a sales database with the provided sales data.
2. **Data Cleaning**: Identify and remove any records with missing or null values, or duplicate values.
3. **Exploratory Data Analysis (EDA)**: Perform basic exploratory data analysis to understand the dataset.
4. **Business Analysis**: Use SQL to answer specific business questions and derive insights from the sales data.

## Project Structure

### 1. Database Setup

- **Database Creation**: The project starts by creating a database named `product_db`.
- **Table Creation**: A table named `products` is created to store the product data. The table structure includes columns for product ID, product name and product category.

```sql
CREATE DATABASE product_db;

CREATE TABLE products
(
    product_id INT PRIMARY KEY,	
    product_name VARCHAR(255),
    product_category VARCHAR(60),
);
```

### 2. Data Exploration, Cleaning & Transformation

- **Record Count**: Determine the total number of records in the datasets.
- **Total Order Number Count**: Find out how many order number are in the dataset.
- **Null Value Check**: Check for any null values in the datasets and delete records with missing data.
- **Duplicate Value Check**: Check for any duplicate values in the datasets and delete records with duplicate data.
- **Data Type Check**: Check for data type of the columns in the datasets if it needs to be fixed.
- **Date Format Check**: Check for date formats in the datasets if it needs to be fixed.

```sql
SELECT COUNT(*) FROM orders;
SELECT COUNT(order_no) FROM orders;

-- To change the data type of the two columns order_date & ship_date from "text" to "date"
UPDATE orders
SET order_date= STR_TO_DATE(order_date,'%m/%d/%Y'),
    ship_date= STR_TO_DATE(ship_date,'%m/%d/%Y'); 
    
ALTER TABLE orders
MODIFY COLUMN order_date date,
MODIFY COLUMN ship_date date; 

SELECT COUNT(*) FROM orders
WHERE order_no IS NULL;

SELECT * FROM orders
WHERE order_date IS NULL OR 
      customer_name IS NULL OR
      address IS NULL OR
      city IS NULL OR
      state IS NULL OR
      customer_type IS NULL OR
      account_id IS NULL OR
      order_priority IS NULL OR
      product_id IS NULL OR
      product_container IS NULL OR
      ship_mode IS NULL OR
      ship_date IS NULL OR
      cost_price IS NULL OR
      retail_price IS NULL OR
      order_quantity IS NULL OR
      sub_total IS NULL OR
      order_total IS NULL OR
      shipping_cost IS NULL OR
      total IS NULL; 
      
DELETE FROM orders
WHERE order_date IS NULL OR 
      customer_name IS NULL OR
      address IS NULL OR
      city IS NULL OR
      state IS NULL OR
      customer_type IS NULL OR
      account_id IS NULL OR
      order_priority IS NULL OR
      product_id IS NULL OR
      product_container IS NULL OR
      ship_mode IS NULL OR
      ship_date IS NULL OR
      cost_price IS NULL OR
      retail_price IS NULL OR
      order_quantity IS NULL OR
      sub_total IS NULL OR
      order_total IS NULL OR
      shipping_cost IS NULL OR
      total IS NULL; 
      
-- Check for duplicate values
SELECT order_no, COUNT(order_no) FROM orders
GROUP BY order_no
HAVING COUNT(order_no) > 1;

SELECT * FROM orders
WHERE order_no ='5768-2' OR order_no ='6159-2';
```

### 3. Data Analysis & Findings

The following SQL queries were developed to answer specific business questions:

1. **What is the total revenue generated by each product category?**:
```sql
SELECT product_category, ROUND(SUM(total), 2) AS revenue
FROM orders
JOIN products
ON orders.product_id = products.product_id
GROUP BY product_category;
```

2. **How many unique products have been ordered? Also, number of unique product category?**:
```sql
SELECT (COUNT(DISTINCT product_name)) AS unique_products
FROM products; 

SELECT COUNT(DISTINCT product_category) FROM products;
```

3. **What is the total revenue generated each year?**:
```sql
SELECT EXTRACT(YEAR from order_date) AS year,
ROUND(SUM(total), 2) AS revenue
FROM orders
GROUP BY year;
```

4. **What is the date of the latest and earliest order?**:
```sql
SELECT MIN(order_date) AS earliest_date,
MAX(order_date) AS latest_date
FROM orders;
```

5. **What product category has the lowest average price of products?**:
```sql
SELECT product_category, ROUND(AVG(retail_price), 2) AS average_price
FROM orders
JOIN products
USING (product_id)
GROUP BY product_category
ORDER By average_price
LIMIT 1;
```

6. **What are the top 10 highest performing products?**:
```sql
SELECT DISTINCT product_name, ROUND(SUM(total), 2) AS revenue
FROM products
JOIN orders
USING(product_id)
GROUP BY product_name 
ORDER BY revenue DESC
LIMIT 10;
```

7. **Show the total revenue and profit generated by each account manager?**:
```sql
SELECT account_manager, 
ROUND(SUM(total), 2) AS revenue, 
ROUND((SUM(total)-SUM(cost_price)), 2) AS profit
FROM orders
JOIN accounts
USING(account_id)
GROUP BY account_manager
ORDER BY revenue;
```

8. **What is the name, city and account manager of the highest selling products in 2017?**:
```sql
SELECT product_name, city, account_manager, ROUND(SUM(total), 2) AS revenue
FROM orders
JOIN products
USING(product_id)
JOIN accounts
USING(account_id)
WHERE EXTRACT(year from order_date)=2017
GROUP BY product_name, city, account_manager
ORDER BY revenue DESC
LIMIT 1;
```

9. **Find the mean amount spent per order by each customer type.**:
```sql
SELECT customer_type, ROUND(AVG(total), 2) AS average_amount
FROM orders
GROUP BY customer_type;
```

10. **What are the five(5) highest selling products?**:
```sql
SELECT product_name, ROUND(SUM(total), 2) AS revenue
FROM products
JOIN orders
USING(product_id)
GROUP BY product_name
ORDER BY revenue DESC
LIMIT 5;
```

11. **What is the 5th highest selling product?**:
```sql
SELECT product_name, ROUND(SUM(total), 2) AS revenue
FROM products
JOIN orders
USING(product_id)
GROUP BY product_name
ORDER BY revenue DESC
LIMIT 1 OFFSET 4;
```

## Findings

- **Customer Demographics**: The dataset includes customers from various citiess, with sales distributed across different customer types such as Home Office and Corporate.
- **High-Value Product Category**: The analysis identifies the most popular product category.
- **Employee Performance**: Data analysis shows revenue and profit made by each account manager, helping identify high performer.
- **Customer Insights**: The analysis identifies the top-spending customers.

## Reports

- **Sales Summary**: A detailed report summarizing total sales, customer demographics, and individual product performance.
- **Trend Analysis**: Insights into sales trends over different years.
- **Customer Insights**: Reports on top customers, and unique customer types with revenue.

## Conclusion

This project serves as a comprehensive introduction to SQL for data analysts, covering database setup, data cleaning, exploratory data analysis, and business-driven SQL queries. The findings from this project can help drive business decisions by understanding sales patterns, customer behavior, and product performance.

## How to Use

1. **Clone the Repository**: Clone this project repository from GitHub.
2. **Set Up the Database**: Run the SQL scripts provided in the `database_setup.sql` file to create and populate the database.
3. **Run the Queries**: Use the SQL queries provided in the `Sales Data Analysis in SQL_P1.sql` file to perform your analysis.
4. **Explore and Modify**: Feel free to modify the queries to explore different aspects of the dataset or answer additional business questions.

## Author

This project is part of my portfolio, showcasing the SQL skills essential for data analyst roles. If you have any questions, feedback, or would like to collaborate, feel free to get in touch!

### Stay Updated and Join the Community

For more content on SQL, data analysis, and other data-related topics, make sure to follow me on social media and join our community:

- **LinkedIn**: [Connect with me professionally](https://www.linkedin.com/in/nazim-uddin17/)

Thank you for your support, and I look forward to connecting with you!
